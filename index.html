<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Track your snooker matches, practice sessions, and statistics">
    <meta name="theme-color" content="#059669">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Snooker Diary">
    <title>Snooker Diary - Track Your Snooker Progress</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React Production Build -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * {
            -webkit-tap-highlight-color: transparent;
        }
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
            overscroll-behavior: none;
        }
        #root {
            min-height: 100vh;
            min-height: -webkit-fill-available;
        }
        /* Loading spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #059669;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="root">
        <div style="display: flex; align-items: center; justify-content: center; min-height: 100vh; background: #111827; color: white;">
            <div style="text-align: center;">
                <div class="spinner"></div>
                <p style="margin-top: 20px; font-size: 18px;">Loading Snooker Diary...</p>
            </div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect } = React;

       import React, { useState, useEffect } from 'react';
import { Plus, TrendingUp, Users, Trophy, Download, Upload, Menu, X, ChevronRight, Edit2, Search, Moon, Sun, Filter } from 'lucide-react';

export default function SnookerDiary() {
  const [matches, setMatches] = useState([]);
  const [opponents, setOpponents] = useState([]);
  const [practice, setPractice] = useState([]);
  const [upcoming, setUpcoming] = useState([]);
  const [view, setView] = useState('home');
  const [showForm, setShowForm] = useState(false);
  const [showPractice, setShowPractice] = useState(false);
  const [showUpcoming, setShowUpcoming] = useState(false);
  const [showResult, setShowResult] = useState(false);
  const [selectedOpp, setSelectedOpp] = useState(null);
  const [menuOpen, setMenuOpen] = useState(false);
  const [delConfirm, setDelConfirm] = useState(null);
  const [delPractice, setDelPractice] = useState(null);
  const [delUpcoming, setDelUpcoming] = useState(null);
  const [editing, setEditing] = useState(null);
  const [editPractice, setEditPractice] = useState(null);
  const [editUpcoming, setEditUpcoming] = useState(null);
  const [addResult, setAddResult] = useState(null);
  const [search, setSearch] = useState('');
  const [filter, setFilter] = useState('');
  const [dark, setDark] = useState(true);
  const [form, setForm] = useState({ opponent: '', yourScore: '', opponentScore: '', yourBreak: '', opponentBreak: '', venue: '', notes: '', date: new Date().toISOString().split('T')[0], duration: '', format: '', type: 'Friendly', handicap: '' });
  const [practiceForm, setPracticeForm] = useState({ title: '', highBreak: '', duration: '', focus: '', notes: '', date: new Date().toISOString().split('T')[0] });
  const [upcomingForm, setUpcomingForm] = useState({ opponent: '', venue: '', date: new Date().toISOString().split('T')[0], time: '', notes: '' });
  const [resultForm, setResultForm] = useState({ opponent: '', yourScore: '', opponentScore: '', yourBreak: '', opponentBreak: '', notes: '' });
  const [newOpp, setNewOpp] = useState('');
  const [newUpOpp, setNewUpOpp] = useState('');

  useEffect(() => {
    const m = localStorage.getItem('snookerMatches');
    const p = localStorage.getItem('snookerPractice');
    const u = localStorage.getItem('snookerUpcoming');
    const d = localStorage.getItem('darkMode');
    if (m) setMatches(JSON.parse(m));
    if (p) setPractice(JSON.parse(p));
    if (u) setUpcoming(JSON.parse(u));
    if (d !== null) setDark(d === 'true');
  }, []);

  useEffect(() => { localStorage.setItem('snookerMatches', JSON.stringify(matches)); updateOpp(); }, [matches]);
  useEffect(() => { localStorage.setItem('snookerPractice', JSON.stringify(practice)); }, [practice]);
  useEffect(() => { localStorage.setItem('snookerUpcoming', JSON.stringify(upcoming)); }, [upcoming]);
  useEffect(() => { localStorage.setItem('darkMode', dark); }, [dark]);

  const updateOpp = () => {
    const map = {};
    matches.forEach(m => {
      if (!map[m.opponent]) map[m.opponent] = { name: m.opponent, wins: 0, losses: 0, framesWon: 0, framesLost: 0, highBreak: 0, matches: [] };
      const o = map[m.opponent];
      o.matches.push(m);
      o.framesWon += m.yourScore;
      o.framesLost += m.opponentScore;
      if (m.yourScore > m.opponentScore) o.wins++; else o.losses++;
      if (m.yourBreak > o.highBreak) o.highBreak = m.yourBreak;
    });
    setOpponents(Object.values(map));
  };

  const save = () => {
    const opp = form.opponent === '__new__' && newOpp.trim() ? newOpp.trim() : form.opponent;
    if (!opp || !form.yourScore || !form.opponentScore) return;
    const m = { id: editing?.id || Date.now(), opponent: opp, yourScore: parseInt(form.yourScore), opponentScore: parseInt(form.opponentScore), yourBreak: parseInt(form.yourBreak) || 0, opponentBreak: parseInt(form.opponentBreak) || 0, venue: form.venue, notes: form.notes, date: form.date };
    setMatches(editing ? matches.map(x => x.id === editing.id ? m : x) : [m, ...matches]);
    reset(); setShowForm(false);
  };

  const startEdit = (m) => { setEditing(m); setForm({ opponent: m.opponent, yourScore: m.yourScore.toString(), opponentScore: m.opponentScore.toString(), yourBreak: m.yourBreak.toString(), opponentBreak: m.opponentBreak.toString(), venue: m.venue, notes: m.notes, date: m.date, duration: m.duration || '', format: m.format || '', type: m.type || 'Friendly', handicap: m.handicap || '' }); setShowForm(true); };
  const reset = () => { setForm({ opponent: '', yourScore: '', opponentScore: '', yourBreak: '', opponentBreak: '', venue: '', notes: '', date: new Date().toISOString().split('T')[0], duration: '', format: '', type: 'Friendly', handicap: '' }); setNewOpp(''); setEditing(null); };

  const savePrac = () => {
    if (!practiceForm.title) return;
    const p = { id: editPractice?.id || Date.now(), title: practiceForm.title, highBreak: parseInt(practiceForm.highBreak) || 0, duration: practiceForm.duration, focus: practiceForm.focus, notes: practiceForm.notes, date: practiceForm.date };
    setPractice(editPractice ? practice.map(x => x.id === editPractice.id ? p : x) : [p, ...practice]);
    resetPrac(); setShowPractice(false);
  };
  const resetPrac = () => { setPracticeForm({ title: '', highBreak: '', duration: '', focus: '', notes: '', date: new Date().toISOString().split('T')[0] }); setEditPractice(null); };
  const startEditPrac = (p) => { setEditPractice(p); setPracticeForm({ title: p.title, highBreak: p.highBreak.toString(), duration: p.duration, focus: p.focus, notes: p.notes, date: p.date }); setShowPractice(true); };

  const saveUp = () => {
    const opp = upcomingForm.opponent === '__new__' && newUpOpp.trim() ? newUpOpp.trim() : upcomingForm.opponent;
    if (!opp || !upcomingForm.date) return;
    const u = { id: editUpcoming?.id || Date.now(), opponent: opp, venue: upcomingForm.venue, date: upcomingForm.date, time: upcomingForm.time, notes: upcomingForm.notes };
    setUpcoming(editUpcoming ? upcoming.map(x => x.id === editUpcoming.id ? u : x) : [u, ...upcoming]);
    resetUp(); setShowUpcoming(false);
  };
  const resetUp = () => { setUpcomingForm({ opponent: '', venue: '', date: new Date().toISOString().split('T')[0], time: '', notes: '' }); setNewUpOpp(''); setEditUpcoming(null); };
  const startEditUp = (u) => { setEditUpcoming(u); setUpcomingForm({ opponent: u.opponent, venue: u.venue, date: u.date, time: u.time, notes: u.notes }); setShowUpcoming(true); };

  const startAddRes = (u) => { 
    setAddResult(u); 
    setResultForm({ 
      opponent: u.opponent === 'Unknown' ? '' : u.opponent,
      yourScore: '', 
      opponentScore: '', 
      yourBreak: '', 
      opponentBreak: '', 
      notes: u.notes || '' 
    }); 
    setShowResult(true); 
  };
  
  const saveRes = () => {
    const finalOpp = resultForm.opponent === '__new__' && newOpp.trim() ? newOpp.trim() : resultForm.opponent;
    if (!addResult || !finalOpp || !resultForm.yourScore || !resultForm.opponentScore) return;
    const m = { id: Date.now(), opponent: finalOpp, yourScore: parseInt(resultForm.yourScore), opponentScore: parseInt(resultForm.opponentScore), yourBreak: parseInt(resultForm.yourBreak) || 0, opponentBreak: parseInt(resultForm.opponentBreak) || 0, venue: addResult.venue, notes: resultForm.notes, date: addResult.date };
    setMatches([m, ...matches]);
    setUpcoming(upcoming.filter(u => u.id !== addResult.id));
    setAddResult(null); setResultForm({ opponent: '', yourScore: '', opponentScore: '', yourBreak: '', opponentBreak: '', notes: '' }); setShowResult(false); setNewOpp('');
  };

  const del = (id) => { setMatches(matches.filter(m => m.id !== id)); setDelConfirm(null); };
  const delPrac = (id) => { setPractice(practice.filter(p => p.id !== id)); setDelPractice(null); };
  const delUp = (id) => { setUpcoming(upcoming.filter(u => u.id !== id)); setDelUpcoming(null); };

  const exportCSV = () => {
    const h = ['Date', 'Opponent', 'Your Score', 'Opponent Score', 'Your High Break', 'Opponent High Break', 'Venue', 'Notes'];
    const r = matches.map(m => [m.date, m.opponent, m.yourScore, m.opponentScore, m.yourBreak, m.opponentBreak, m.venue, m.notes]);
    const csv = [h, ...r].map(row => row.map(c => `"${c}"`).join(',')).join('\n');
    const blob = new Blob([csv], { type: 'text/csv' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url; a.download = `snooker-${new Date().toISOString().split('T')[0]}.csv`; a.click();
  };

  const importCSV = (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const reader = new FileReader();
    reader.onload = (ev) => {
      const text = ev.target.result;
      const lines = text.split('\n').slice(1);
      const imported = lines.filter(l => l.trim()).map((l, i) => {
        const v = l.match(/(".*?"|[^",]+)(?=\s*,|\s*$)/g).map(x => x.replace(/^"|"$/g, ''));
        return { id: Date.now() + i, date: v[0], opponent: v[1], yourScore: parseInt(v[2]), opponentScore: parseInt(v[3]), yourBreak: parseInt(v[4]) || 0, opponentBreak: parseInt(v[5]) || 0, venue: v[6] || '', notes: v[7] || '' };
      });
      setMatches([...imported, ...matches]);
    };
    reader.readAsText(file);
  };

  const filtered = matches.filter(m => {
    const s = m.opponent.toLowerCase().includes(search.toLowerCase()) || m.venue.toLowerCase().includes(search.toLowerCase()) || m.notes.toLowerCase().includes(search.toLowerCase());
    const f = !filter || m.opponent === filter;
    return s && f;
  });

  const stats = { 
    total: matches.length, 
    wins: matches.filter(m => m.yourScore > m.opponentScore).length, 
    losses: matches.filter(m => m.yourScore < m.opponentScore).length, 
    high: Math.max(0, ...matches.map(m => m.yourBreak)), 
    avg: matches.filter(m => m.yourBreak > 0).length > 0 ? Math.round(matches.reduce((s, m) => s + m.yourBreak, 0) / matches.filter(m => m.yourBreak > 0).length) : 0, 
    cents: matches.filter(m => m.yourBreak >= 100).length,
    totalFramesWon: matches.reduce((s, m) => s + m.yourScore, 0),
    totalFramesLost: matches.reduce((s, m) => s + m.opponentScore, 0),
    currentStreak: (() => {
      const sorted = [...matches].sort((a, b) => new Date(b.date) - new Date(a.date));
      let streak = 0;
      for (let m of sorted) {
        const won = m.yourScore > m.opponentScore;
        if (streak === 0) streak = won ? 1 : -1;
        else if ((streak > 0 && won) || (streak < 0 && !won)) streak += won ? 1 : -1;
        else break;
      }
      return streak;
    })(),
    longestStreak: (() => {
      const sorted = [...matches].sort((a, b) => new Date(a.date) - new Date(b.date));
      let current = 0, best = 0;
      sorted.forEach(m => {
        if (m.yourScore > m.opponentScore) {
          current++;
          if (current > best) best = current;
        } else current = 0;
      });
      return best;
    })()
  };
  const breaks = matches.filter(m => m.yourBreak > 0).sort((a, b) => b.yourBreak - a.yourBreak).slice(0, 20);

  const bg = dark ? 'bg-gray-900' : 'bg-gray-100';
  const card = dark ? 'bg-gray-800' : 'bg-white';
  const txt = dark ? 'text-white' : 'text-gray-900';
  const txt2 = dark ? 'text-gray-400' : 'text-gray-600';
  const bdr = dark ? 'border-gray-700' : 'border-gray-300';
  const inp = dark ? 'bg-gray-700' : 'bg-gray-200';

  const OppSel = ({ val, onChange, newVal, onNewChange, allowUnknown }) => (
    val === '__new__' ? (
      <div className="space-y-2">
        <input type="text" value={newVal} onChange={(e) => onNewChange(e.target.value)} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="Name" autoFocus />
        <div className="flex gap-2">
          <button type="button" onClick={() => { onChange(''); onNewChange(''); }} className={`text-sm ${txt2}`}>← Cancel</button>
          <button type="button" onClick={() => { if(newVal.trim()) onChange(newVal.trim()); }} className="text-sm text-green-500 font-bold">✓</button>
        </div>
      </div>
    ) : val ? (
      <div className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr} flex items-center justify-between`}>
        <span>{val}</span>
        <button type="button" onClick={() => { onChange(''); onNewChange(''); }} className="text-red-500">✕</button>
      </div>
    ) : (
      <select value={val} onChange={(e) => onChange(e.target.value)} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`}>
        <option value="">Select...</option>
        {allowUnknown && <option value="Unknown">Unknown Opponent</option>}
        <option value="__new__">+ New</option>
        {opponents.length > 0 && <option disabled>───</option>}
        {opponents.map(o => <option key={o.name} value={o.name}>{o.name}</option>)}
      </select>
    )
  );

  return (
    <div className={`min-h-screen ${bg} ${txt} pb-20`}>
      <div className="bg-gradient-to-r from-green-700 to-green-600 p-4 sticky top-0 z-20 shadow-lg">
        <div className="flex items-center justify-between">
          <div className="flex items-center gap-2"><Trophy className="w-6 h-6 text-white" /><h1 className="text-xl font-bold text-white">Snooker Diary</h1></div>
          <div className="flex items-center gap-2">
            <button onClick={() => setDark(!dark)} className="p-2 text-white">{dark ? <Sun className="w-5 h-5" /> : <Moon className="w-5 h-5" />}</button>
            <button onClick={() => setMenuOpen(!menuOpen)} className="p-2 text-white">{menuOpen ? <X className="w-6 h-6" /> : <Menu className="w-6 h-6" />}</button>
          </div>
        </div>
      </div>

      {menuOpen && (
        <div className={`${card} border-b ${bdr} absolute w-full z-10 shadow-lg`}>
          <button onClick={() => { document.getElementById('csv').click(); setMenuOpen(false); }} className={`w-full p-4 text-left flex items-center gap-3 ${dark ? 'hover:bg-gray-700' : 'hover:bg-gray-200'}`}><Upload className="w-5 h-5" />Import</button>
          <button onClick={() => { exportCSV(); setMenuOpen(false); }} className={`w-full p-4 text-left flex items-center gap-3 ${dark ? 'hover:bg-gray-700' : 'hover:bg-gray-200'}`}><Download className="w-5 h-5" />Export</button>
          <input id="csv" type="file" accept=".csv" onChange={importCSV} className="hidden" />
        </div>
      )}

      {view === 'home' && matches.length > 0 && (
        <div className="p-4 space-y-3">
          <div className="relative"><Search className={`absolute left-3 top-3 w-5 h-5 ${txt2}`} /><input type="text" placeholder="Search..." value={search} onChange={(e) => setSearch(e.target.value)} className={`w-full ${card} ${txt} rounded-lg pl-10 pr-4 py-3 border ${bdr}`} /></div>
          <div className="flex gap-2 items-center"><Filter className={`w-5 h-5 ${txt2}`} /><select value={filter} onChange={(e) => setFilter(e.target.value)} className={`flex-1 ${card} ${txt} rounded-lg px-3 py-2 border ${bdr}`}><option value="">All</option>{opponents.map(o => <option key={o.name} value={o.name}>{o.name}</option>)}</select></div>
        </div>
      )}

      <div className="p-4">
        {view === 'home' && (<>
          <div className="grid grid-cols-2 gap-3 mb-6">
            {[['Total', stats.total], ['Win %', stats.total ? Math.round((stats.wins/stats.total)*100)+'%' : '0%'], ['High', stats.high, 'text-yellow-500'], ['W-L', `${stats.wins}-${stats.losses}`], ['Avg', stats.avg, 'text-blue-500'], ['Cents', stats.cents, 'text-purple-500']].map(([label, val, clr], i) => (
              <div key={i} className={`${card} rounded-lg p-4 shadow`}><div className={`${txt2} text-sm`}>{label}</div><div className={`text-3xl font-bold ${clr||''}`}>{val}</div></div>
            ))}
          </div>
          <h2 className="text-lg font-bold mb-3">Recent Matches</h2>
          {filtered.length === 0 ? (<div className={`${card} rounded-lg p-8 text-center ${txt2} shadow`}>{matches.length === 0 ? "No matches!" : "No matches found."}</div>) : (
            <div className="space-y-3">{filtered.slice(0, 20).map(m => (
              <div key={m.id} className={`${card} rounded-lg p-4 space-y-2 shadow`}>
                <div className="flex justify-between items-start">
                  <div><div className="font-bold text-lg">{m.opponent}</div><div className={`text-sm ${txt2}`}>{m.date}</div></div>
                  <div className={`text-2xl font-bold ${m.yourScore > m.opponentScore ? 'text-green-500' : 'text-red-500'}`}>{m.yourScore}-{m.opponentScore}</div>
                </div>
                {m.yourBreak > 0 && <div className="text-sm text-yellow-500">Break: {m.yourBreak}</div>}
                {m.venue && <div className={`text-sm ${txt2}`}>📍 {m.venue}</div>}
                {m.type && m.type !== 'Friendly' && <div className={`text-sm ${txt2}`}>🏆 {m.type}</div>}
                {m.duration && <div className={`text-sm ${txt2}`}>⏱️ {m.duration}</div>}
                {m.format && <div className={`text-sm ${txt2}`}>🎯 Best of {m.format}</div>}
                {m.notes && <div className={`text-sm ${txt2} italic`}>"{m.notes}"</div>}
                <div className="flex gap-2">
                  <button onClick={() => startEdit(m)} className="text-sm text-white bg-blue-600 px-3 py-1.5 rounded hover:bg-blue-700 flex items-center gap-1"><Edit2 className="w-3 h-3" />Edit</button>
                  <button onClick={() => setDelConfirm(m.id)} className="text-sm text-white bg-red-600 px-3 py-1.5 rounded hover:bg-red-700">Delete</button>
                </div>
              </div>
            ))}</div>
          )}
        </>)}

        {view === 'opponents' && (<>
          <h2 className="text-lg font-bold mb-3">Opponents</h2>
          {opponents.length === 0 ? (<div className={`${card} rounded-lg p-8 text-center ${txt2} shadow`}>No opponents!</div>) : (
            <div className="space-y-3">{opponents.map(o => (
              <div key={o.name} onClick={() => setSelectedOpp(o)} className={`${card} rounded-lg p-4 cursor-pointer hover:opacity-80 shadow`}>
                <div className="flex justify-between items-center">
                  <div><div className="font-bold text-lg">{o.name}</div><div className={`text-sm ${txt2}`}>{o.wins}W-{o.losses}L | {o.framesWon}-{o.framesLost}</div><div className="text-sm text-yellow-500">High: {o.highBreak}</div></div>
                  <ChevronRight className={`w-5 h-5 ${txt2}`} />
                </div>
              </div>
            ))}</div>
          )}
        </>)}

        {view === 'breaks' && (<>
          <h2 className="text-lg font-bold mb-3">High Breaks</h2>
          {breaks.length === 0 ? (<div className={`${card} rounded-lg p-8 text-center ${txt2} shadow`}>No breaks</div>) : (
            <div className="space-y-3">{breaks.map((m, i) => (
              <div key={m.id} className={`${card} rounded-lg p-4 flex justify-between items-center shadow`}>
                <div><div className={`text-2xl font-bold ${m.yourBreak >= 100 ? 'text-purple-500' : 'text-yellow-500'}`}>{m.yourBreak}{m.yourBreak >= 100 && ' 💯'}</div><div className={`text-sm ${txt2}`}>vs {m.opponent}</div><div className={`text-xs ${txt2}`}>{m.date}</div></div>
                <div className={`text-3xl ${dark ? 'text-gray-600' : 'text-gray-300'}`}>#{i+1}</div>
              </div>
            ))}</div>
          )}
        </>)}

        {view === 'practice' && (<>
          <div className="flex justify-between items-center mb-3">
            <h2 className="text-lg font-bold">Practice</h2>
            <button onClick={() => setShowPractice(true)} className="bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700"><Plus className="w-4 h-4" />New</button>
          </div>
          {practice.length === 0 ? (<div className={`${card} rounded-lg p-8 text-center ${txt2} shadow`}>No practice</div>) : (
            <div className="space-y-3">{practice.map(p => (
              <div key={p.id} className={`${card} rounded-lg p-4 space-y-2 shadow`}>
                <div className="flex justify-between items-start">
                  <div><div className="font-bold text-lg">{p.title}</div><div className={`text-sm ${txt2}`}>{p.date}</div></div>
                  {p.highBreak > 0 && <div className="text-xl font-bold text-yellow-500">{p.highBreak}</div>}
                </div>
                {p.duration && <div className={`text-sm ${txt2}`}>⏱️ {p.duration}</div>}
                {p.focus && <div className={`text-sm ${txt2}`}>🎯 {p.focus}</div>}
                {p.notes && <div className={`text-sm ${txt2} italic`}>"{p.notes}"</div>}
                <div className="flex gap-2">
                  <button onClick={() => startEditPrac(p)} className="text-sm text-white bg-blue-600 px-3 py-1.5 rounded hover:bg-blue-700 flex items-center gap-1"><Edit2 className="w-3 h-3" />Edit</button>
                  <button onClick={() => setDelPractice(p.id)} className="text-sm text-white bg-red-600 px-3 py-1.5 rounded hover:bg-red-700">Delete</button>
                </div>
              </div>
            ))}</div>
          )}
        </>)}

        {view === 'stats' && (<>
          <h2 className="text-lg font-bold mb-3">Statistics & Analytics</h2>
          
          <div className={`${card} rounded-lg p-4 mb-4 shadow`}>
            <h3 className="font-bold mb-3">Streaks & Milestones</h3>
            <div className="space-y-2">
              <div className="flex justify-between"><span className={txt2}>Current Streak:</span><span className={`font-bold ${stats.currentStreak > 0 ? 'text-green-500' : stats.currentStreak < 0 ? 'text-red-500' : ''}`}>{stats.currentStreak > 0 ? `${stats.currentStreak} wins` : stats.currentStreak < 0 ? `${Math.abs(stats.currentStreak)} losses` : 'None'}</span></div>
              <div className="flex justify-between"><span className={txt2}>Longest Win Streak:</span><span className="font-bold text-blue-500">{stats.longestStreak} wins</span></div>
              <div className="flex justify-between"><span className={txt2}>Total Centuries:</span><span className="font-bold text-purple-500">{stats.cents}</span></div>
              {stats.cents >= 1 && <div className="text-sm text-yellow-500">🏆 First Century Milestone!</div>}
              {stats.cents >= 5 && <div className="text-sm text-yellow-500">🏆 5 Centuries Milestone!</div>}
              {stats.longestStreak >= 5 && <div className="text-sm text-yellow-500">🏆 5-Match Win Streak!</div>}
              {stats.total >= 50 && <div className="text-sm text-yellow-500">🏆 50 Matches Played!</div>}
              {stats.total >= 100 && <div className="text-sm text-yellow-500">🏆 100 Matches Played!</div>}
            </div>
          </div>

          <div className={`${card} rounded-lg p-4 mb-4 shadow`}>
            <h3 className="font-bold mb-3">Frame Statistics</h3>
            <div className="space-y-2">
              <div className="flex justify-between"><span className={txt2}>Frames Won:</span><span className="font-bold text-green-500">{stats.totalFramesWon}</span></div>
              <div className="flex justify-between"><span className={txt2}>Frames Lost:</span><span className="font-bold text-red-500">{stats.totalFramesLost}</span></div>
              <div className="flex justify-between"><span className={txt2}>Frame Win %:</span><span className="font-bold">{stats.totalFramesWon + stats.totalFramesLost > 0 ? Math.round((stats.totalFramesWon / (stats.totalFramesWon + stats.totalFramesLost)) * 100) : 0}%</span></div>
            </div>
          </div>

          <div className={`${card} rounded-lg p-4 mb-4 shadow`}>
            <h3 className="font-bold mb-3">Break Distribution</h3>
            {(() => {
              const ranges = {'0-20': 0, '21-40': 0, '41-60': 0, '61-80': 0, '81-99': 0, '100+': 0};
              matches.forEach(m => {
                if (m.yourBreak > 0) {
                  if (m.yourBreak <= 20) ranges['0-20']++;
                  else if (m.yourBreak <= 40) ranges['21-40']++;
                  else if (m.yourBreak <= 60) ranges['41-60']++;
                  else if (m.yourBreak <= 80) ranges['61-80']++;
                  else if (m.yourBreak < 100) ranges['81-99']++;
                  else ranges['100+']++;
                }
              });
              const max = Math.max(...Object.values(ranges), 1);
              return (
                <div className="space-y-2">
                  {Object.entries(ranges).map(([range, count]) => (
                    <div key={range}>
                      <div className="flex justify-between text-sm mb-1"><span className={txt2}>{range}</span><span>{count}</span></div>
                      <div className="w-full bg-gray-700 rounded-full h-2"><div className="bg-yellow-500 h-2 rounded-full" style={{width: `${(count/max)*100}%`}}></div></div>
                    </div>
                  ))}
                </div>
              );
            })()}
          </div>

          <div className={`${card} rounded-lg p-4 mb-4 shadow`}>
            <h3 className="font-bold mb-3">Venue Performance</h3>
            {(() => {
              const venues = {};
              matches.forEach(m => {
                if (m.venue) {
                  if (!venues[m.venue]) venues[m.venue] = {wins: 0, total: 0};
                  venues[m.venue].total++;
                  if (m.yourScore > m.opponentScore) venues[m.venue].wins++;
                }
              });
              const sorted = Object.entries(venues).sort((a, b) => (b[1].wins/b[1].total) - (a[1].wins/a[1].total));
              return sorted.length === 0 ? (
                <div className={`text-center ${txt2} py-4`}>No venue data yet</div>
              ) : (
                <div className="space-y-2">
                  {sorted.slice(0, 5).map(([venue, data]) => (
                    <div key={venue} className="flex justify-between">
                      <span className={txt2}>{venue}</span>
                      <span className="font-bold">{Math.round((data.wins/data.total)*100)}% ({data.wins}/{data.total})</span>
                    </div>
                  ))}
                </div>
              );
            })()}
          </div>

          <div className={`${card} rounded-lg p-4 shadow`}>
            <h3 className="font-bold mb-3">Competition Type Breakdown</h3>
            {(() => {
              const types = {};
              matches.forEach(m => {
                const t = m.type || 'Friendly';
                if (!types[t]) types[t] = {wins: 0, total: 0};
                types[t].total++;
                if (m.yourScore > m.opponentScore) types[t].wins++;
              });
              return Object.entries(types).length === 0 ? (
                <div className={`text-center ${txt2} py-4`}>No data yet</div>
              ) : (
                <div className="space-y-2">
                  {Object.entries(types).map(([type, data]) => (
                    <div key={type} className="flex justify-between">
                      <span className={txt2}>{type}</span>
                      <span className="font-bold">{data.wins}W-{data.total-data.wins}L ({Math.round((data.wins/data.total)*100)}%)</span>
                    </div>
                  ))}
                </div>
              );
            })()}
          </div>
        </>)}

        {view === 'upcoming' && (<>
          <div className="flex justify-between items-center mb-3">
            <h2 className="text-lg font-bold">Upcoming</h2>
            <button onClick={() => setShowUpcoming(true)} className="bg-green-600 text-white px-3 py-1.5 rounded text-sm flex items-center gap-1 hover:bg-green-700"><Plus className="w-4 h-4" />New</button>
          </div>
          {upcoming.length === 0 ? (<div className={`${card} rounded-lg p-8 text-center ${txt2} shadow`}>No upcoming</div>) : (
            <div className="space-y-3">{upcoming.sort((a, b) => new Date(a.date) - new Date(b.date)).map(u => (
              <div key={u.id} className={`${card} rounded-lg p-4 space-y-2 shadow border-l-4 border-green-500`}>
                <div className="flex justify-between items-start">
                  <div><div className="font-bold text-lg">vs {u.opponent}</div><div className={`text-sm ${txt2}`}>📅 {u.date} {u.time && `${u.time}`}</div></div>
                </div>
                {u.venue && <div className={`text-sm ${txt2}`}>📍 {u.venue}</div>}
                {u.notes && <div className={`text-sm ${txt2} italic`}>"{u.notes}"</div>}
                <div className="flex gap-2 flex-wrap">
                  <button onClick={() => startAddRes(u)} className="text-sm text-white bg-green-600 px-3 py-1.5 rounded hover:bg-green-700">✓ Result</button>
                  <button onClick={() => startEditUp(u)} className="text-sm text-white bg-blue-600 px-3 py-1.5 rounded hover:bg-blue-700 flex items-center gap-1"><Edit2 className="w-3 h-3" />Edit</button>
                  <button onClick={() => setDelUpcoming(u.id)} className="text-sm text-white bg-red-600 px-3 py-1.5 rounded hover:bg-red-700">Delete</button>
                </div>
              </div>
            ))}</div>
          )}
        </>)}
      </div>

      {delConfirm && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-sm p-6 shadow-xl`}><h3 className="text-xl font-bold mb-4">Delete?</h3><p className={`${txt2} mb-6`}>Cannot be undone.</p><div className="flex gap-3"><button onClick={() => setDelConfirm(null)} className={`flex-1 ${dark ? 'bg-gray-700' : 'bg-gray-300'} rounded-lg py-3 font-bold`}>Cancel</button><button onClick={() => del(delConfirm)} className="flex-1 bg-red-600 rounded-lg py-3 font-bold text-white">Delete</button></div></div></div>)}
      {delPractice && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-sm p-6 shadow-xl`}><h3 className="text-xl font-bold mb-4">Delete?</h3><p className={`${txt2} mb-6`}>Cannot be undone.</p><div className="flex gap-3"><button onClick={() => setDelPractice(null)} className={`flex-1 ${dark ? 'bg-gray-700' : 'bg-gray-300'} rounded-lg py-3 font-bold`}>Cancel</button><button onClick={() => delPrac(delPractice)} className="flex-1 bg-red-600 rounded-lg py-3 font-bold text-white">Delete</button></div></div></div>)}
      {delUpcoming && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-sm p-6 shadow-xl`}><h3 className="text-xl font-bold mb-4">Delete?</h3><p className={`${txt2} mb-6`}>Cannot be undone.</p><div className="flex gap-3"><button onClick={() => setDelUpcoming(null)} className={`flex-1 ${dark ? 'bg-gray-700' : 'bg-gray-300'} rounded-lg py-3 font-bold`}>Cancel</button><button onClick={() => delUp(delUpcoming)} className="flex-1 bg-red-600 rounded-lg py-3 font-bold text-white">Delete</button></div></div></div>)}

      {selectedOpp && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-md max-h-[80vh] overflow-y-auto shadow-xl`}><div className={`p-4 border-b ${bdr} sticky top-0 ${card}`}><div className="flex justify-between items-center"><h3 className="text-xl font-bold">{selectedOpp.name}</h3><button onClick={() => setSelectedOpp(null)}><X className="w-6 h-6" /></button></div><div className={`text-sm ${txt2} mt-2`}>{selectedOpp.wins}W-{selectedOpp.losses}L | High: {selectedOpp.highBreak}</div></div><div className="p-4 space-y-3">{selectedOpp.matches.sort((a, b) => new Date(b.date) - new Date(a.date)).map(m => (<div key={m.id} className={`${dark ? 'bg-gray-700' : 'bg-gray-100'} rounded-lg p-3`}><div className="flex justify-between items-center mb-1"><div className={`text-sm ${txt2}`}>{m.date}</div><div className={`text-xl font-bold ${m.yourScore > m.opponentScore ? 'text-green-500' : 'text-red-500'}`}>{m.yourScore}-{m.opponentScore}</div></div>{m.yourBreak > 0 && <div className="text-sm text-yellow-500">Break: {m.yourBreak}</div>}{m.notes && <div className={`text-sm ${txt2} italic mt-1`}>"{m.notes}"</div>}</div>))}</div></div></div>)}

      {showResult && addResult && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 overflow-y-auto"><div className="min-h-screen flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-md shadow-xl`}><div className={`p-4 border-b ${bdr}`}><div className="flex justify-between items-center"><h3 className="text-xl font-bold">Result {addResult.opponent !== 'Unknown' ? `vs ${addResult.opponent}` : ''}</h3><button onClick={() => { setShowResult(false); setAddResult(null); setNewOpp(''); }}><X className="w-6 h-6" /></button></div></div><div className="p-4 space-y-4">{addResult.opponent === 'Unknown' && (<div><label className={`block text-sm ${txt2} mb-1`}>Opponent</label><OppSel val={resultForm.opponent} onChange={(v) => setResultForm({...resultForm, opponent: v})} newVal={newOpp} onNewChange={setNewOpp} /></div>)}<div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Your Score</label><input type="number" value={resultForm.yourScore} onChange={(e) => setResultForm({...resultForm, yourScore: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Opp Score</label><input type="number" value={resultForm.opponentScore} onChange={(e) => setResultForm({...resultForm, opponentScore: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Your Break</label><input type="number" value={resultForm.yourBreak} onChange={(e) => setResultForm({...resultForm, yourBreak: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Opp Break</label><input type="number" value={resultForm.opponentBreak} onChange={(e) => setResultForm({...resultForm, opponentBreak: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div></div><div><label className={`block text-sm ${txt2} mb-1`}>Notes</label><textarea value={resultForm.notes} onChange={(e) => setResultForm({...resultForm, notes: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr} h-20`} /></div><button onClick={saveRes} className="w-full bg-green-600 hover:bg-green-700 rounded-lg py-3 font-bold text-white">Save</button></div></div></div></div>)}

      {showUpcoming && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 overflow-y-auto"><div className="min-h-screen flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-md shadow-xl`}><div className={`p-4 border-b ${bdr}`}><div className="flex justify-between items-center"><h3 className="text-xl font-bold">{editUpcoming ? 'Edit' : 'Schedule'} Match</h3><button onClick={() => { setShowUpcoming(false); resetUp(); }}><X className="w-6 h-6" /></button></div></div><div className="p-4 space-y-4"><div><label className={`block text-sm ${txt2} mb-1`}>Opponent</label><OppSel val={upcomingForm.opponent} onChange={(v) => setUpcomingForm({...upcomingForm, opponent: v})} newVal={newUpOpp} onNewChange={setNewUpOpp} allowUnknown={true} /></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Date</label><input type="date" value={upcomingForm.date} onChange={(e) => setUpcomingForm({...upcomingForm, date: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Time</label><input type="time" value={upcomingForm.time} onChange={(e) => setUpcomingForm({...upcomingForm, time: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div></div><div><label className={`block text-sm ${txt2} mb-1`}>Venue</label><input type="text" value={upcomingForm.venue} onChange={(e) => setUpcomingForm({...upcomingForm, venue: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Notes</label><textarea value={upcomingForm.notes} onChange={(e) => setUpcomingForm({...upcomingForm, notes: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr} h-20`} /></div><button onClick={saveUp} className="w-full bg-green-600 hover:bg-green-700 rounded-lg py-3 font-bold text-white">Save</button></div></div></div></div>)}

      {showPractice && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 overflow-y-auto"><div className="min-h-screen flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-md shadow-xl`}><div className={`p-4 border-b ${bdr}`}><div className="flex justify-between items-center"><h3 className="text-xl font-bold">{editPractice ? 'Edit' : 'New'} Practice</h3><button onClick={() => { setShowPractice(false); resetPrac(); }}><X className="w-6 h-6" /></button></div></div><div className="p-4 space-y-4"><div><label className={`block text-sm ${txt2} mb-1`}>Title</label><input type="text" value={practiceForm.title} onChange={(e) => setPracticeForm({...practiceForm, title: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="e.g. Long potting" /></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>High Break</label><input type="number" value={practiceForm.highBreak} onChange={(e) => setPracticeForm({...practiceForm, highBreak: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Duration</label><input type="text" value={practiceForm.duration} onChange={(e) => setPracticeForm({...practiceForm, duration: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="2 hours" /></div></div><div><label className={`block text-sm ${txt2} mb-1`}>Focus</label><input type="text" value={practiceForm.focus} onChange={(e) => setPracticeForm({...practiceForm, focus: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="Safety shots" /></div><div><label className={`block text-sm ${txt2} mb-1`}>Date</label><input type="date" value={practiceForm.date} onChange={(e) => setPracticeForm({...practiceForm, date: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Notes</label><textarea value={practiceForm.notes} onChange={(e) => setPracticeForm({...practiceForm, notes: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr} h-20`} /></div><button onClick={savePrac} className="w-full bg-green-600 hover:bg-green-700 rounded-lg py-3 font-bold text-white">Save</button></div></div></div></div>)}

      {showForm && (<div className="fixed inset-0 bg-black bg-opacity-75 z-30 overflow-y-auto"><div className="min-h-screen flex items-center justify-center p-4"><div className={`${card} rounded-lg w-full max-w-md shadow-xl`}><div className={`p-4 border-b ${bdr}`}><div className="flex justify-between items-center"><h3 className="text-xl font-bold">{editing ? 'Edit' : 'Add'} Match</h3><button onClick={() => { setShowForm(false); reset(); }}><X className="w-6 h-6" /></button></div></div><div className="p-4 space-y-4"><div><label className={`block text-sm ${txt2} mb-1`}>Opponent</label><OppSel val={form.opponent} onChange={(v) => setForm({...form, opponent: v})} newVal={newOpp} onNewChange={setNewOpp} /></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Your Score</label><input type="number" value={form.yourScore} onChange={(e) => setForm({...form, yourScore: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Opp Score</label><input type="number" value={form.opponentScore} onChange={(e) => setForm({...form, opponentScore: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Your Break</label><input type="number" value={form.yourBreak} onChange={(e) => setForm({...form, yourBreak: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Opp Break</label><input type="number" value={form.opponentBreak} onChange={(e) => setForm({...form, opponentBreak: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Type</label><select value={form.type} onChange={(e) => setForm({...form, type: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`}><option>Friendly</option><option>League</option><option>Tournament</option><option>Ranking</option><option>Practice Match</option></select></div><div><label className={`block text-sm ${txt2} mb-1`}>Format</label><input type="text" value={form.format} onChange={(e) => setForm({...form, format: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="e.g. 7" /></div></div><div className="grid grid-cols-2 gap-3"><div><label className={`block text-sm ${txt2} mb-1`}>Duration</label><input type="text" value={form.duration} onChange={(e) => setForm({...form, duration: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="e.g. 1h 30m" /></div><div><label className={`block text-sm ${txt2} mb-1`}>Handicap</label><input type="text" value={form.handicap} onChange={(e) => setForm({...form, handicap: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} placeholder="e.g. +14" /></div></div><div><label className={`block text-sm ${txt2} mb-1`}>Date</label><input type="date" value={form.date} onChange={(e) => setForm({...form, date: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Venue</label><input type="text" value={form.venue} onChange={(e) => setForm({...form, venue: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr}`} /></div><div><label className={`block text-sm ${txt2} mb-1`}>Notes</label><textarea value={form.notes} onChange={(e) => setForm({...form, notes: e.target.value})} className={`w-full ${inp} ${txt} rounded px-3 py-2 border ${bdr} h-20`} /></div><button onClick={save} className="w-full bg-green-600 hover:bg-green-700 rounded-lg py-3 font-bold text-white">Save</button></div></div></div></div>)}

      <div className={`fixed bottom-0 left-0 right-0 ${card} border-t ${bdr} grid grid-cols-7 items-center py-2 px-1 z-20`}>
        <button onClick={() => setView('home')} className={`flex flex-col items-center justify-center ${view === 'home' ? 'text-green-500' : txt2}`}><Trophy className="w-5 h-5" /><span className="text-[10px] mt-1">Home</span></button>
        <button onClick={() => setView('opponents')} className={`flex flex-col items-center justify-center ${view === 'opponents' ? 'text-green-500' : txt2}`}><Users className="w-5 h-5" /><span className="text-[10px] mt-1">Opps</span></button>
        <button onClick={() => setView('stats')} className={`flex flex-col items-center justify-center ${view === 'stats' ? 'text-green-500' : txt2}`}><TrendingUp className="w-5 h-5" /><span className="text-[10px] mt-1">Stats</span></button>
        <button onClick={() => setShowForm(true)} className="bg-green-600 rounded-full p-3 -mt-6 shadow-lg justify-self-center"><Plus className="w-7 h-7 text-white" /></button>
        <button onClick={() => setView('breaks')} className={`flex flex-col items-center justify-center ${view === 'breaks' ? 'text-green-500' : txt2}`}><Trophy className="w-5 h-5" /><span className="text-[10px] mt-1">Breaks</span></button>
        <button onClick={() => setView('practice')} className={`flex flex-col items-center justify-center ${view === 'practice' ? 'text-green-500' : txt2}`}><Edit2 className="w-5 h-5" /><span className="text-[10px] mt-1">Practice</span></button>
        <button onClick={() => setView('upcoming')} className={`flex flex-col items-center justify-center ${view === 'upcoming' ? 'text-green-500' : txt2}`}><Filter className="w-5 h-5" /><span className="text-[10px] mt-1">Soon</span></button>
      </div>
    </div>
  );
}

       /*
        // Temporarily using a placeholder - REPLACE WITH YOUR ACTUAL CODE
        function SnookerDiary() {
            return (
                <div style={{padding: '20px', textAlign: 'center', minHeight: '100vh', background: '#111827', color: 'white'}}>
                    <h1 style={{fontSize: '24px', marginBottom: '20px'}}>🎱 Snooker Diary</h1>
                    <p style={{marginBottom: '10px'}}>⚠️ Please replace this placeholder with your actual app code</p>
                    <p style={{fontSize: '14px', color: '#9CA3AF'}}>
                        Copy the code from the "Snooker Diary App" artifact and paste it in the index.html file
                        where it says "STEP 1: COPY THE SNOOKER DIARY APP CODE"
                    </p>
                </div>
            );
        }
     */

        /* 
        ═══════════════════════════════════════════════════════════════════════════
        STEP 2: RENDER THE APP
        Don't change anything below this line
        ═══════════════════════════════════════════════════════════════════════════
        */
        
        ReactDOM.render(<SnookerDiary />, document.getElementById('root'));
    </script>

    <!-- 
    ═══════════════════════════════════════════════════════════════════════════════
    DEPLOYMENT INSTRUCTIONS
    ═══════════════════════════════════════════════════════════════════════════════
    
    📋 QUICK SETUP:
    
    1. Copy the Snooker Diary App code from the artifact
    2. Paste it where indicated in STEP 1 above (replace the placeholder)
    3. Save this file as "index.html"
    4. You're ready to deploy!
    
    🚀 DEPLOYMENT OPTIONS:
    
    Option A - Netlify Drop (Easiest, No Account):
    ────────────────────────────────────────────
    1. Go to: https://app.netlify.com/drop
    2. Drag and drop this index.html file
    3. Get your instant live URL
    4. Share with friends!
    
    Option B - GitHub Pages (Best for Updates):
    ──────────────────────────────────────────
    1. Create a new repository on GitHub
    2. Upload this index.html file
    3. Go to Settings → Pages
    4. Select "main" branch and save
    5. Your URL: https://username.github.io/repository-name
    
    Option C - Vercel (Alternative to Netlify):
    ──────────────────────────────────────────
    1. Go to: https://vercel.com
    2. Sign up (free)
    3. Import your GitHub repo or upload file
    4. Deploy!
    
    📱 HOW FRIENDS INSTALL IT:
    
    iPhone (Safari):
    ───────────────
    1. Open the URL in Safari
    2. Tap Share button (square with arrow)
    3. Scroll down → "Add to Home Screen"
    4. Tap "Add"
    5. App icon appears on home screen!
    
    Android (Chrome):
    ────────────────
    1. Open the URL in Chrome
    2. Tap menu (3 dots)
    3. Tap "Add to Home Screen" or "Install App"
    4. Tap "Install"
    5. App icon appears on home screen!
    
    ✨ FEATURES:
    • Works offline after first load
    • Data saved locally on device
    • No app store needed
    • Free hosting
    • Instant updates
    
    💡 TIPS:
    • Test on your phone first before sharing
    • Works on all modern browsers
    • Data is private and stored on each user's device
    • Users can export/import their data as CSV backups
    
    ═══════════════════════════════════════════════════════════════════════════════
    -->
</body>
</html>